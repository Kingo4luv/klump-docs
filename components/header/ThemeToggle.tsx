'use client';

import { useState } from 'react';

export default function ThemeToggle() {
    const [theme, setTheme] = useState<'dark' | 'light' | 'system'>('light');

    const isActive = (value: string) =>
        theme === value ? 'bg-white shadow-md border border-[#E3E8EE]' : '';

    return (
        <div className="inline-flex items-center gap-1 bg-gray-100 border border-gray-200 p-1 rounded-full">
            <button
                onClick={() => setTheme('dark')}
                className={`w-10 h-10 flex items-center justify-center rounded-full transition ${isActive('dark')}`}
                aria-label="Dark mode"
            >
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd" clip-rule="evenodd" d="M16.7749 11.7476C15.8643 12.0849 14.876 12.1538 13.9274 11.9463C12.9788 11.7387 12.1096 11.2634 11.423 10.5767C10.7364 9.88999 10.2613 9.02074 10.0539 8.07208C9.84649 7.12341 9.9156 6.13517 10.253 5.22461C9.18116 5.36857 8.17089 5.80928 7.33622 6.49698C6.50156 7.18468 5.87574 8.092 5.5294 9.11653C5.18307 10.1411 5.13001 11.242 5.37621 12.2951C5.62241 13.3482 6.15806 14.3115 6.92272 15.0762C7.68738 15.841 8.65059 16.3769 9.70363 16.6232C10.7567 16.8696 11.8576 16.8167 12.8822 16.4706C13.9068 16.1244 14.8142 15.4987 15.5021 14.6642C16.1899 13.8296 16.6308 12.8194 16.7749 11.7476Z" fill="#9394A1" fill-opacity="0.15" />
                    <path d="M16.7749 11.748L17.5922 11.8558C17.6108 11.7149 17.5928 11.5716 17.5397 11.4398C17.4867 11.3079 17.4005 11.192 17.2895 11.1033C17.1786 11.0145 17.0465 10.956 16.9063 10.9332C16.766 10.9105 16.6222 10.9244 16.4889 10.9736L16.7749 11.7469V11.748ZM10.253 5.22496L11.0274 5.51096C11.0766 5.37754 11.0905 5.23366 11.0678 5.09328C11.045 4.95291 10.9863 4.8208 10.8974 4.70978C10.8086 4.59877 10.6925 4.51261 10.5605 4.45967C10.4285 4.40674 10.2851 4.38882 10.1441 4.40766L10.253 5.22496ZM16.4889 10.9736C16.017 11.1476 15.5179 11.2362 15.0149 11.2354V12.8854C15.7332 12.8854 16.4229 12.7567 17.0609 12.5213L16.4889 10.9736ZM15.0149 11.2354C13.8876 11.2354 12.8065 10.7876 12.0094 9.99045C11.2123 9.19335 10.7645 8.11224 10.7645 6.98496H9.1145C9.1145 8.54985 9.73615 10.0506 10.8427 11.1572C11.9492 12.2637 13.45 12.8854 15.0149 12.8854V11.2354ZM10.7645 6.98496C10.7645 6.46466 10.858 5.96966 11.0274 5.51096L9.4797 4.93896C9.23764 5.59392 9.11399 6.28671 9.1145 6.98496H10.7645ZM6.0499 10.9747C6.04977 9.76983 6.48674 8.60587 7.27973 7.69879C8.07272 6.79171 9.16786 6.20312 10.3619 6.04226L10.1441 4.40766C8.55384 4.62128 7.0951 5.40467 6.0387 6.61239C4.9823 7.82011 4.4 9.37012 4.3999 10.9747H6.0499ZM11.0252 15.95C9.70567 15.95 8.44018 15.4258 7.50713 14.4927C6.57408 13.5597 6.0499 12.2942 6.0499 10.9747H4.3999C4.3999 12.7318 5.09792 14.417 6.34041 15.6595C7.58289 16.9019 9.26806 17.6 11.0252 17.6V15.95ZM15.9576 11.638C15.7967 12.832 15.2082 13.9271 14.3011 14.7201C13.394 15.5131 12.23 15.9501 11.0252 15.95V17.6C12.6297 17.5999 14.1798 17.0176 15.3875 15.9612C16.5952 14.9048 17.3786 13.446 17.5922 11.8558L15.9576 11.638Z" fill="#9394A1" />
                </svg>
            </button>
            <button
                onClick={() => setTheme('light')}
                className={`w-10 h-10 flex items-center justify-center rounded-full transition ${isActive('light')}`}
                aria-label="Light mode"
            >
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 14.5748C12.9745 14.5748 14.575 12.9742 14.575 10.9998C14.575 9.02539 12.9745 7.4248 11 7.4248C9.02563 7.4248 7.42505 9.02539 7.42505 10.9998C7.42505 12.9742 9.02563 14.5748 11 14.5748Z" fill="#2F3037" fill-opacity="0.15" stroke="#2F3037" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M11 4.125V4.675M15.862 6.138L15.4726 6.5274M17.875 11H17.325M15.862 15.862L15.4726 15.4726M11 17.325V17.875M6.5274 15.4715L6.138 15.8609M4.675 11H4.125M6.5274 6.5285L6.138 6.138" stroke="#2F3037" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>

            </button>
            <button
                onClick={() => setTheme('system')}
                className={`w-10 h-10 flex items-center justify-center rounded-full transition ${isActive('system')}`}
                aria-label="System mode"
            >
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.0001 13.7496V16.7746V13.7496ZM11.0001 16.7746H8.5251H11.0001ZM11.0001 16.7746H13.4751H11.0001ZM6.3251 13.4746H15.6751C15.9668 13.4746 16.2466 13.3587 16.4529 13.1524C16.6592 12.9461 16.7751 12.6663 16.7751 12.3746V6.32461C16.7751 6.03287 16.6592 5.75308 16.4529 5.54679C16.2466 5.3405 15.9668 5.22461 15.6751 5.22461H6.3251C6.03336 5.22461 5.75357 5.3405 5.54728 5.54679C5.34099 5.75308 5.2251 6.03287 5.2251 6.32461V12.3746C5.2251 12.6663 5.34099 12.9461 5.54728 13.1524C5.75357 13.3587 6.03336 13.4746 6.3251 13.4746Z" fill="#9394A1" fill-opacity="0.15" />
                    <path d="M11.0001 13.7496V16.7746M11.0001 16.7746H8.5251M11.0001 16.7746H13.4751M6.3251 13.4746H15.6751C15.9668 13.4746 16.2466 13.3587 16.4529 13.1524C16.6592 12.9461 16.7751 12.6663 16.7751 12.3746V6.32461C16.7751 6.03287 16.6592 5.75308 16.4529 5.54679C16.2466 5.3405 15.9668 5.22461 15.6751 5.22461H6.3251C6.03336 5.22461 5.75357 5.3405 5.54728 5.54679C5.34099 5.75308 5.2251 6.03287 5.2251 6.32461V12.3746C5.2251 12.6663 5.34099 12.9461 5.54728 13.1524C5.75357 13.3587 6.03336 13.4746 6.3251 13.4746Z" stroke="#9394A1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
        </div>
    );
}
